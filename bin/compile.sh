#!/bin/bash

rm *.js

cat "../src/lib/sjcl/sjcl.js" > "sjcl.uncompressed.js"
cat "../src/lib/sjcl/bitArray.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/codecBytes.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/codecHex.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/codecBase64.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/codecString.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/sha256.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/sha512.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/sha1.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/aes.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/ccm.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/ocb2.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/gcm.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/hmac.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/pbkdf2.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/random.js" >> "sjcl.uncompressed.js"
cat "../src/lib/sjcl/convenience.js" >> "sjcl.uncompressed.js"

cat "../src/lib/jsbn/jsbn.js" >> "jsbn.uncompressed.js"
cat "../src/lib/jsbn/jsbn2.js" >> "jsbn.uncompressed.js"
cat "../src/lib/jsbn/prng4.js" >> "jsbn.uncompressed.js"
cat "../src/lib/jsbn/rng.js" >> "jsbn.uncompressed.js"
cat "../src/lib/jsbn/ec.js" >> "jsbn.uncompressed.js"
cat "../src/lib/jsbn/sec.js" >> "jsbn.uncompressed.js"


cat "../src/lib/titaniumcore/tools/packages.js" >> "titaniumcore.cipher.uncompressed.js"
cat "../src/lib/titaniumcore/tools/binary.js" >> "titaniumcore.cipher.uncompressed.js"
cat "../src/lib/titaniumcore/Cipher.js" >> "titaniumcore.cipher.uncompressed.js"

cat "../src/ec/util.js" >> "cipherjs.uncompressed.js"
cat "../src/ec/keys.js" >> "cipherjs.uncompressed.js"
cat "../src/ec/ecdh.js" >> "cipherjs.uncompressed.js"
cat "../src/ec/elgamal.js" >> "cipherjs.uncompressed.js"
cat "../src/ec/ecdsa.js" >> "cipherjs.uncompressed.js"
cat "../src/ec/ecdsa2.js" >> "cipherjs.uncompressed.js"
cat "../src/tools.js" >> "cipherjs.uncompressed.js"
cat "../src/cipherjs.js" >> "cipherjs.uncompressed.js"
cat "../src/encoding.js" >> "cipherjs.uncompressed.js"
cat "../src/mask.js" >> "cipherjs.uncompressed.js"
cat "../src/random.js" >> "cipherjs.uncompressed.js"
cat "../src/hash.js" >> "cipherjs.uncompressed.js"
cat "../src/sym.js" >> "cipherjs.uncompressed.js"
cat "../src/asym.js" >> "cipherjs.uncompressed.js"
cat "../src/simpleasym.js" >> "cipherjs.uncompressed.js"

java -jar yuicompressor-2.4.2.jar -o "sjcl.min.js" "sjcl.uncompressed.js"
java -jar yuicompressor-2.4.2.jar -o "jsbn.min.js" "jsbn.uncompressed.js"
java -jar yuicompressor-2.4.2.jar -o "titaniumcore.cipher.min.js" "titaniumcore.cipher.uncompressed.js"
java -jar yuicompressor-2.4.2.jar -o "cipherjs.min.js" "cipherjs.uncompressed.js"
